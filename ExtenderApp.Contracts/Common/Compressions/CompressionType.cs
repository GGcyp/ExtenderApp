namespace ExtenderApp.Contracts
{
    /// <summary>
    /// 通用压缩类型枚举，用于指示序列化/IO 操作所使用的压缩策略。
    /// </summary>
    /// <remarks>
    /// 该枚举提供常见的压缩选项以满足不同场景的权衡（性能、内存占用、压缩比、流式处理能力）。
    /// 选择指引（经验法则）：
    /// - 数据很小或已是高熵/不可压缩：选 <see cref="None"/>；
    /// - 单段（连续内存）且数据较大：选 <see cref="Block"/>（单帧压缩，协议开销小）；
    /// - 输入为多段或需要流式/分块处理：选 <see cref="BlockArray"/>（每段独立压缩，便于逐段解压与写入）。
    /// </remarks>
    public enum CompressionType
    {
        /// <summary>
        /// 不进行压缩（原始透传）。
        /// 适用场景：数据非常小（如 &lt;64 字节）、已被压缩或对 CPU 开销敏感的路径。
        /// 优点：无 CPU 开销、无协议开销；缺点：体积不变。
        /// </summary>
        None,

        /// <summary>
        /// 块级压缩（单帧压缩，如 LZ4 单块）。
        /// 适用场景：单个对象或连续内存的大数据，追求压缩比和吞吐的平衡。
        /// 特点：一次性压缩/解压，头部协议开销小，通常压缩比优于分块方案。
        /// </summary>
        Block = 99,

        /// <summary>
        /// 块数组（分块）压缩，每段独立压缩（适用于多段 ReadOnlySequence&lt;byte&gt;）。
        /// 适用场景：超大内容需分块处理、希望边解边写或控制峰值内存占用。
        /// 特点：支持流式处理与低峰值内存，但每段独立字典导致压缩比略低且协议开销更高。
        /// </summary>
        BlockArray = 98,
    }
}