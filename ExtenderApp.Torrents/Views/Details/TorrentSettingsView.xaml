<v:ExtenderAppView x:Class="ExtenderApp.Torrents.Views.TorrentSettingsView"
                   xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                   xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                   xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
                   xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
                   xmlns:local="clr-namespace:ExtenderApp.Torrents.Views"
                   xmlns:v="clr-namespace:ExtenderApp.Views;assembly=ExtenderApp.Views"
                   xmlns:vm="clr-namespace:ExtenderApp.Torrents.ViewModels"
                   xmlns:c="clr-namespace:ExtenderApp.Views.Converters;assembly=ExtenderApp.Views"
                   mc:Ignorable="d"
                   d:DataContext="{d:DesignInstance Type=vm:TorrentSettingsViewModel}"
                   d:DesignHeight="800"
                   d:DesignWidth="350">
    <v:ExtenderAppView.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="/ExtenderApp.Views;component/ViewStyles.xaml"/>
                <ResourceDictionary Source="/ExtenderApp.Torrents;component/Themes/Generic.xaml"/>
            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>
    </v:ExtenderAppView.Resources>
    <StackPanel>
        <TextBlock x:Name="engineSettings"
                   Text="全局下载设置"
                   Margin="0 0 0 10"
                   Style="{StaticResource TitleTextBlock}"/>
        <Grid Margin="5">
            <TextBlock Text="最大连接数:"
                       VerticalAlignment="Center"/>
            <TextBox Width="80"
                     HorizontalAlignment="Left"
                     Text="{Binding Model.DisplayEngineSettingsModel.MaximumConnections}"
                     Margin="80,0,0,0"/>
        </Grid>

        <Grid Margin="5">
            <TextBlock Text="最大下载速率:"
                       VerticalAlignment="Center"/>
            <TextBox Width="80"
                     HorizontalAlignment="Left"
                     Text="{Binding Model.DisplayEngineSettingsModel.MaximumDownloadRate,
                     Converter={c:SizeConverter}}"
                     Margin="100,0,0,0"/>
        </Grid>
        <Grid Margin="5">
            <TextBlock Text="最大上传速率:"
                       VerticalAlignment="Center"/>
            <TextBox Width="80"
                     HorizontalAlignment="Left"
                     Text="{Binding Model.DisplayEngineSettingsModel.MaximumUploadRate}"
                     Margin="100,0,0,0"/>
        </Grid>
        <Grid Margin="5">
            <TextBlock Text="最大半开连接数:"
                       VerticalAlignment="Center"/>
            <TextBox Width="80"
                     HorizontalAlignment="Left"
                     Text="{Binding Model.DisplayEngineSettingsModel.MaximumHalfOpenConnections}"
                     Margin="110,0,0,0"/>
        </Grid>
        <Grid Margin="5">
            <TextBlock Text="最大打开文件数:"
                       VerticalAlignment="Center"/>
            <TextBox Width="80"
                     HorizontalAlignment="Left"
                     Text="{Binding Model.DisplayEngineSettingsModel.MaximumOpenFiles}"
                     Margin="110,0,0,0"/>
        </Grid>
        <Grid Margin="5">
            <TextBlock Text="磁盘缓存:"
                       VerticalAlignment="Center"/>
            <TextBox Width="80"
                     HorizontalAlignment="Left"
                     Text="{Binding Model.DisplayEngineSettingsModel.DiskCacheBytes}"
                     Margin="70,0,0,0"/>
        </Grid>
        <StackPanel Orientation="Horizontal"
                    Margin="5">
            <TextBlock Text="HTTP流媒体前缀:"
                       VerticalAlignment="Center"/>
            <TextBox Width="200"
                     Text="{Binding Model.DisplayEngineSettingsModel.HttpStreamingPrefix}"
                     Margin="10,0,0,0"/>
        </StackPanel>

        <TextBlock x:Name="dhtSettings"
                   Margin="0 10 0 10"
                   Text="DHT设置"
                   Style="{DynamicResource TitleTextBlock}"/>
        <CheckBox Content="允许DHT"
                  Margin="5"
                  IsChecked="{Binding Model.DisplayTorrentSettingsModel.AllowDht}"
                  Foreground="{DynamicResource GlobalForegroundBrush}"/>
        <CheckBox Content="自动保存DHT缓存"
                  IsChecked="{Binding Model.DisplayEngineSettingsModel.AutoSaveLoadDhtCache}"
                  Margin="5"/>

        <TextBlock x:Name="torrentSettings"
                   Text="种子设置"
                   Margin="0 10 0 10"
                   Style="{DynamicResource TitleTextBlock}"/>
        <CheckBox Content="允许初始做种"
                  IsChecked="{Binding Model.DisplayTorrentSettingsModel.AllowInitialSeeding}"
                  Margin="5"/>
        <CheckBox Content="是否允许与其他节点交换更多下载源信息。"
                  IsChecked="{Binding Model.DisplayTorrentSettingsModel.AllowPeerExchange}"
                  Margin="5"/>
        <CheckBox Content="节点Id匹配"
                  IsChecked="{Binding Model.DisplayTorrentSettingsModel.RequirePeerIdToMatch}"
                  Margin="5"/>
        <Grid Margin="5">
            <TextBlock Text="单个种子最大连接数:"
                       VerticalAlignment="Center"/>
            <TextBox Width="80"
                     HorizontalAlignment="Left"
                     Text="{Binding Model.DisplayTorrentSettingsModel.MaximumConnections}"
                     Margin="140,0,0,0"/>
        </Grid>
        <Grid Margin="5">
            <TextBlock Text="单个种子最大下载速率:"
                       VerticalAlignment="Center"/>
            <TextBox Width="80"
                     HorizontalAlignment="Left"
                     Text="{Binding Model.DisplayTorrentSettingsModel.MaximumDownloadRate}"
                     Margin="150,0,0,0"/>
        </Grid>
        <Grid Margin="5">
            <TextBlock Text="单个种子最大上传速率:"
                       HorizontalAlignment="Left"
                       VerticalAlignment="Center"/>
            <TextBox Width="80"
                     HorizontalAlignment="Left"
                     Text="{Binding Model.DisplayTorrentSettingsModel.MaximumUploadRate}"
                     Margin="150,0,0,0"/>
        </Grid>
        <Grid Margin="5">
            <TextBlock Text="每个种子最大上传数:"
                       VerticalAlignment="Center"/>
            <TextBox Width="80"
                     HorizontalAlignment="Left"
                     Text="{Binding Model.DisplayTorrentSettingsModel.UploadSlots}"
                     Margin="140,0,0,0"/>
        </Grid>

        <TextBlock x:Name="peerSettings"
                   Text="对等节点设置"
                   Margin="0 10 0 10"
                   Style="{StaticResource TitleTextBlock}"/>
        <CheckBox Content="Have抑制"
                  IsChecked="{Binding Model.DisplayEngineSettingsModel.AllowHaveSuppression}"
                  Margin="5"/>
        <CheckBox Content="局域网节点发现"
                  IsChecked="{Binding Model.DisplayEngineSettingsModel.AllowLocalPeerDiscovery}"
                  Margin="5"/>
        <CheckBox Content="端口转发"
                  IsChecked="{Binding Model.DisplayEngineSettingsModel.AllowPortForwarding}"
                  Margin="5"/>
        <CheckBox Content="自动保存磁力元数据"
                  IsChecked="{Binding Model.DisplayEngineSettingsModel.AutoSaveLoadMagnetLinkMetadata}"
                  Margin="5"/>
        <CheckBox Content="部分文件下载"
                  IsChecked="{Binding Model.DisplayEngineSettingsModel.UsePartialFiles}"
                  Margin="5"/>


        <TextBlock x:Name="saveSettings"
                   Text="保存设置"
                   Margin="0 10 0 10"
                   Style="{DynamicResource TitleTextBlock}"/>
        <Grid Margin="5">
            <TextBlock Text="缓存目录:"
                       VerticalAlignment="Center"/>
            <TextBox Width="230"
                     Text="{Binding Model.DisplayEngineSettingsModel.CacheDirectory}"
                     Margin="70 0 50 0"/>
            <Button Content="选择"
                    HorizontalAlignment="Right"
                    Style="{DynamicResource EllipticalButton}"/>
        </Grid>
        <Grid Margin="5">
            <TextBlock Text="保存目录:"
                       VerticalAlignment="Center"/>
            <TextBox Text="{Binding Model.SaveDirectory}"
                     Margin="70 0 50 0"/>
            <Button Content="选择"
                    HorizontalAlignment="Right"
                    Style="{DynamicResource EllipticalButton}"/>
        </Grid>
    </StackPanel>
</v:ExtenderAppView>
