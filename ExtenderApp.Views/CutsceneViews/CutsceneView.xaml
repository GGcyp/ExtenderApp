<local:ExtenderAppView x:Class="ExtenderApp.Views.CutsceneView"
                       xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                       xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                       xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
                       xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
                       xmlns:local="clr-namespace:ExtenderApp.Views"
                       mc:Ignorable="d"
                       d:DesignHeight="450" d:DesignWidth="800"
                       >
    <Grid>
        <!-- 动画容器 -->
        <Canvas x:Name="AnimationCanvas" Background="Transparent">
            <!-- 遮罩小球 -->
            <Ellipse x:Name="MaskBall"
                     Fill="Black"
                     Canvas.Left="0"
                     Canvas.Top="0"
                     Width="0"
                     Height="0"
                     RenderTransformOrigin="0.5,0.5">
                <Ellipse.RenderTransform>
                    <TranslateTransform x:Name="BallTranslate" X="0" Y="0"/>
                </Ellipse.RenderTransform>
            </Ellipse>

            <!-- 加载文本 -->
            <TextBlock x:Name="LoadingText"
                       Text="正在加载..."
                       FontSize="24"
                       Foreground="White"
                       Visibility="Collapsed"
                       Canvas.Left="0"
                       Canvas.Top="0"
                       RenderTransformOrigin="0.5,0.5">
                <TextBlock.RenderTransform>
                    <TranslateTransform x:Name="TextTranslate" X="0" Y="0"/>
                </TextBlock.RenderTransform>
            </TextBlock>
        </Canvas>
    </Grid>

    <!-- 动画定义 -->
    <local:ExtenderAppView.Resources>
        <!-- 进入动画 (从小到大) -->
        <Storyboard x:Key="EnterStoryboard">
            <DoubleAnimation Storyboard.TargetName="MaskBall" Storyboard.TargetProperty="Width"
                             From="0" To="2000" Duration="0:0:0.8"
                             EasingFunction="{StaticResource QuadraticEaseIn}"/>
            <DoubleAnimation Storyboard.TargetName="MaskBall" Storyboard.TargetProperty="Height"
                             From="0" To="2000" Duration="0:0:0.8"
                             EasingFunction="{StaticResource QuadraticEaseIn}"/>
            <ObjectAnimationUsingKeyFrames Storyboard.TargetName="LoadingText" Storyboard.TargetProperty="Visibility">
                <DiscreteObjectKeyFrame KeyTime="0:0:0.8" Value="Visible"/>
            </ObjectAnimationUsingKeyFrames>
        </Storyboard>

        <!-- 退出动画 (从大到小) -->
        <Storyboard x:Key="ExitStoryboard">
            <ObjectAnimationUsingKeyFrames Storyboard.TargetName="LoadingText" Storyboard.TargetProperty="Visibility">
                <DiscreteObjectKeyFrame KeyTime="0:0:0" Value="Collapsed"/>
            </ObjectAnimationUsingKeyFrames>
            <DoubleAnimation Storyboard.TargetName="MaskBall" Storyboard.TargetProperty="Width"
                             From="2000" To="0" Duration="0:0:0.8"
                             EasingFunction="{StaticResource QuadraticEaseOut}"/>
            <DoubleAnimation Storyboard.TargetName="MaskBall" Storyboard.TargetProperty="Height"
                             From="2000" To="0" Duration="0:0:0.8"
                             EasingFunction="{StaticResource QuadraticEaseOut}"/>
        </Storyboard>

        <!-- 缓动函数 -->
        <QuadraticEase x:Key="QuadraticEaseIn" EasingMode="EaseIn"/>
        <QuadraticEase x:Key="QuadraticEaseOut" EasingMode="EaseOut"/>
    </local:ExtenderAppView.Resources>
</local:ExtenderAppView>
